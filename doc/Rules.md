# Terra Lock 開発ルール

## タスク実行ルール

1. 各タスクステップ完了時に、完了報告を行う
2. ユーザーからのフィードバックを待ち、期待通りの結果かを確認する
3. 問題がある場合は、フィードバックに基づいて改善を行う
4. タスク完了のたびに、このルールファイルを更新・フィードバックする
5. 各タスクは独立してコミット可能な単位で実装する
6. コミットメッセージは「Task X.Y: タスク名」形式で統一する
7. 動作確認を行ってからコミットを実行する
8. 仕様書との整合性を常に確認する
9. 60FPS維持とパフォーマンスを意識した実装を行う
10. コンパイルエラーと警告の最小化を心がける
11. バージョン互換性の問題が発生した場合は、安定版を選択する
12. **作業完了時は必ずTask.mdを更新してチェックマークを付ける**
13. **作業はTask単位でなく、項目単位（チェックボックス単位）で実施する**
14. **ユーザーが問題ないことを確認したら、その内容をgitにコミットする**
15. **コミット後にRules.mdを再度確認してから後続のタスクを実施する**
16. **ドキュメント管理は doc/ ディレクトリに統一する**
17. **Phase完了時は必ずgitタグを付与する（例: phase-1-complete, phase-2-complete）**

## Phase完了時の標準手順

### Phase修了確認のインプット方法
ユーザーが以下のメッセージを送信することで、Phase完了処理を開始する：

```
Phase X完了しました。現状のリポジトリの状況に対して、doc/Report.mdに追記が必要な内容や、現状と記述が間違っていて、報告書を訂正すべき点はありますか？見直しを行なって報告書を改版してください。また、Phaseが完了する毎にgitのタグとするようにRuleに追加してください。
```

### Phase完了時の実施手順
1. **現状確認**
   - 最新のコミット履歴確認
   - リポジトリ構造の確認
   - ビルド状況の確認

2. **Report.md見直し・改版**
   - 実施期間の正確性確認
   - 技術スタック・バージョン情報の更新
   - 実際の成果と記述の整合性確認
   - コミット数・履歴の正確性確認
   - 新たに達成された成果の追記
   - 課題・制約の解決状況更新

3. **Rules.md更新**
   - Phase完了時のgitタグ付けルール追加（初回のみ）
   - 新たに発見されたルールの追加

4. **gitタグ付与**
   - ドキュメント更新のコミット実行
   - `phase-X-complete`形式でのタグ付与
   - タグメッセージに主要成果を記載

5. **完了報告**
   - Phase完了ステータスの確認
   - 主要達成事項の要約
   - 次Phaseへの準備状況報告

### 効率化のためのテンプレート

#### ユーザー向け簡潔版インプット
```
Phase X完了。Report.md見直し・改版とタグ付けをお願いします。
```

#### 開発者向け詳細版インプット（問題がある場合）
```
Phase X完了しました。以下の点を重点的に確認してください：
- [具体的な確認ポイント1]
- [具体的な確認ポイント2]
Report.md改版とタグ付けをお願いします。
```

### Phase完了時の品質チェックリスト
- [ ] 実施期間が正確に記載されている
- [ ] 技術スタック・バージョン情報が最新
- [ ] 実際の成果と記述が一致している
- [ ] コミット履歴が正確に反映されている
- [ ] 新たな課題・制約の解決が記載されている
- [ ] gitタグが適切に付与されている
- [ ] 次Phaseへの準備状況が明確

### 注意事項
- Phase完了処理は必ず全タスク完了後に実施する
- Report.mdの改版は事実に基づいた正確な情報のみ記載する
- gitタグは一度付与したら変更しない（履歴の整合性保持）
- 次Phaseの開始前に必ずPhase完了処理を完了させる
